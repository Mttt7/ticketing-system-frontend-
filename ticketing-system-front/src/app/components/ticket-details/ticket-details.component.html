<div class="flex flex-col gap-8 mt-20 w-[90vw]" *ngIf="ticket">
  <div class="flex items-center justify-center">
    <div class="flex items-stretch justify-center  bg-white shadow-xl">
      <div class="flex flex-col items-start justify-center  border-[2px] border-r-0 p-4 pt-2">
        <div class="font-semibold">Customer:</div>
        <div>{{ ticket.customer.firstName }} {{ ticket.customer.lastName }}</div>
        <div>{{ ticket.customer.email }}</div>
        <div>{{ ticket.customer.phone }}</div>
      </div>
      <div class="flex flex-col items-start justify-center border-[2px] border-r-0 p-4 pt-2 ">
        <div class="font-semibold">Opened by:</div>
        <div>{{ ticket.openedBy.firstName }} {{ ticket.openedBy.lastName }}</div>
        <div>{{ ticket.openedBy.email }}</div>
        <div>{{ ticket.createdAt | date: 'mediumDate' }}</div>
        <div>{{ ticket.channel.name }}</div>
      </div>
      <div *ngIf="ticket.closedAt" class="flex flex-col items-start justify-center border-[2px] border-r-0 p-4 pt-2 ">
        <div class="font-semibold">Closed by:</div>
        <div>{{ ticket.closedBy?.firstName }} {{ ticket.closedBy?.lastName }}</div>
        <div>{{ ticket.closedBy?.email }}</div>
        <div>{{ ticket?.closedAt }}</div>
      </div>
      <div class="flex flex-col items-start justify-center border-[2px] border-r-0 p-4 pt-2 ">
        <div class="font-semibold">Ticket #{{ ticket.id }}</div>
        <div class="font-semibold">Category: {{ ticket.category.name }} - {{ ticket.subcategory.name }}</div>
        <div [ngClass]="getPriorityClass(ticket.priority)">
          Priority: {{ ticket.priority }}
        </div>
        <div *ngIf="!ticket.closedAt">
          Open since {{ ticket.createdAt | date: 'mediumDate' }} ({{ getOpenedSince() }} days)
        </div>
        <div *ngIf="ticket.closedAt">
          Closed since {{ ticket.closedAt | date: 'mediumDate' }} ({{ getClosedSince() }} days)
        </div>
      </div>
      <div class="flex flex-col items-stretch border-[2px] p-4 pt-2 grow]">
        <div>{{ ticket.content }}</div>
      </div>
    </div>

  </div>

  <div class="flex justify-start">
    <div class="flex flex-col gap-2">
      <button class="btn btn-primary text-white">New comment</button>
      <div class="flex gap-1">
        <button class="btn btn-primary text-white">Follow</button>
        <button class="btn btn-primary text-white">Assign</button>
      </div>
      <button class="btn btn-primary text-white">Email client</button>
      <button class="btn btn-warning text-white">Change Category</button>
      <button class="btn btn-error text-white">Close</button>
    </div>
  </div>
</div>
